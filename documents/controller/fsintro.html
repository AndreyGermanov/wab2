<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>






<meta content="text/html; charset=Windows-1251" http-equiv="content-type"><title>fsintro.html</title></head><body>
<h1>Настройка файлового сервера и клиентов</h1>

<h2><a name="p1"></a>
Немного теории</h2>
<div style="text-align: justify;">

Прежде чем переходить к процедурам настройки файлового сервера, нужно
понять или освежить в памяти некоторые теоретические моменты, а также
означить задачи, которые относятся к настройке файлового сервера и к его
внедрению в сеть.<br>

</div>
<h3><a name="p2"></a>
О настройке файлового сервера</h3>
<div style="text-align: justify;">


Как известно, файловый сервер предназначен для предоставления доступа к
файлам и папкам, которые находятся на его жестких дисках или других
носителях. Для этого, в первую очередь, сервер должен быть виден в
сети, то есть, он должен отображаться в Сетевом окружении под
определенным именем и в определенной рабочей группе. Эти, и другие вещи
относятся к основным параметрам файлового сервера. <br>
</div>

<br>
<div style="text-align: justify;">
Для предоставления доступа к данным сервера, некоторые его папки
делаются общими и в них записываются данные, доступные по сети. <br>
<br>
С помощью Файлового менеджера, встроенного в Панель управления, любую
папку можно сделать доступной из локальной сети, а также из Интернет по
протоколам FTP и WebDAV.&nbsp; Каждая общая папка может быть доступна
одновременно как по локальной сети, так и из Интернет. При этом
используется одна и та же модель ограничения доступа, основанная на
правах доступа пользователей к файлам и папкам.<br>
<br>
В правах доступа указывается,
какие объекты сети имеют доступ к каждой папке и какой уровень доступа
они имеют. К объектам сети относятся:<br>

</div>
<ul>
  <li>Учетные записи пользователей</li>
  <li>Группы пользователей</li>
</ul>
<div style="text-align: justify;">
Учетные записи пользователей и групп заводятся на сервере. При создании
пользователя указываются различные его параметры, основные из которых
это имя и пароль. Также указывается, к каким группам он относится.<br>
<br>
</div><br>
<div style="text-align: justify;">
Для большего удобства используются группы пользователей. Они позволяют
группировать пользователей по различным характеристикам, в частности
для организации доступа к общим ресурсам. Например, можно отнести ряд
пользователей к группе и дать доступ этой группе к общей папке. Далее,
можно добавлять новых пользователей в группу и они автоматически
получат доступ к этой общей папке. Если нужно изменить уровень доступа
пользователей к этой общей папке, достаточно изменить этот уровень
доступа для группы, а не для каждого пользователя по отдельности.
Также, чтобы дать доступ пользователям к другой общей папке, достаточно
настроить права доступа группы к этой папке и все пользователи
автоматически получат к ней доступ.<br>
</div>

<br>
<div style="text-align: justify;">
Также, для каждой папки можно установить уровень доступа "по
умолчанию", то есть, какой доступ к ней получает пользователь, который
не указал своего имени или указал несуществующее имя. Обычно часть
папок на сервере делаются "общедоступными", для них по умолчанию
устанавливается полный доступ. Для остальных папок доступ по умолчанию
отключается.<br>
</div>

<br>
<div style="text-align: justify;">
В итоге, основная настройка файлового сервера заключается : в установке
общих параметров, таких как имя сервера и рабочая группа, к которой он
относится, в создании общих папок, учетных записей пользователей и
групп пользователей и в настройке прав доступа этих пользователей и
групп к общим папкам, а также настройка прав доступа к общим папкам по
умолчанию.<br>
</div>

<br>
<div style="text-align: justify;">
Дополнительно, если в конфигурации предусмотрен "Сетевой центр" (см.
"<a onclick='parent.obj.go_to("3",true,event)' href="null">Начало работы</a>"), то появляется возможность устанавливать права доступа
к общим папкам, доступным из локальной сети для самих компьютеров сети. В этом случае, на сервере, в
Сетевом центре, регистрируются компьютеры сети. Для каждого компьютера
указывается его имя, IP-адрес, MAC-адрес и другие параметры и затем
указывается, к каким общим папкам этот компьютер имеет доступ. Также,
для удобства управления правами доступа, компьютеры можно разбить на
группы. Для этого предназначен дополнительный раздел, который
называется "Группы объектов". В нем заводятся группы компьютеров и
указывается, какие компьютеры относятся к каждой группе. Компьютеры,
которые не входят ни в одну из групп автоматически попадают в системную
группу объектов "Вне групп". <br>
</div>

<br>
<div style="text-align: justify;">
Группы объектов это не то же самое, что
группы пользователей. Нельзя установить права доступа для группы
объектов, потому что в операционной системе не существует такого
понятия. Группа объектов это просто интерфейсный объект панели
управления сервером, предназначенный для более удобной группировки
компьютеров (и возможно других объектов) в окне настройки прав доступа
к общей папке.<br>
</div>

<br>
<div style="text-align: justify;">
В итоге к настройке сервера может добавиться регистрация компьютеров
локальной сети, создание групп объектов, распределение компьютеров по
группам объектов и настройка прав доступа компьютеров к общим папкам
сервера.<br>
<br>
Организация доступа пользователей к общим папкам через Интернет описана
в отдельном разделе данного руководства: "Организация доступа к серверу
из Интернет".<br>

</div>
<h3 style="outline-color: navy ! important; outline-style: dashed ! important; outline-width: 2px ! important;"><a name="p3"></a>
О настройке клиентов файлового сервера</h3>
<div style="text-align: justify;">Клиенты файлового сервера это
компьютеры, которые подключаются и используют информацию, находящуюся в
общих папках файлового сервера. Клиенты файлового сервера могут быть
двух типов:<br>
<ul>
  <li>Локальные клиенты, которые выходят на сервер по локальной сети через Сетевое окружение по протоколам SMB, NFS и AFP<br>
  </li>
  <li>Удаленные клиенты, которые выходят на сервер из Интернет по протоколам FTP и WebDAV.<br>
  </li>
</ul>
<h4>Настройка клиентов локальной сети</h4>
<span style="font-weight: bold;"></span>Компьютеры сети (клиенты), чтобы получить доступ к общим папкам сервера,
должны подключаться к серверу от имени пользователей, заведенных на сервере. При
подключении к серверу, клиент передает на сервер имя и пароль, которые
он ввел при входе в компьютер. Сервер сопоставляет эту информацию с
базой данных учетных записей пользователей, которые на нем заведены,
и, если пользователь с таким именем и паролем обнаружен, то ему
предоставляется доступ к серверу, к общим папкам, к которым для него
настроен доступ на сервере. Если для пользователя не настроено прав
доступа к папке, к которой он подключается, то сервер смотрит, к каким
группам этот пользователь относится и какие права доступа к этой папке
настроены для этих групп. Если какая-либо из групп, в которые входит
пользователь имеет доступ к этой общей папке, клиент получает доступ к
ней, иначе клиент не получает никакого доступа. Если клиент
подключается от имени пользователя и учетная запись с таким именем не
обнаружена, то клиенту предоставляется гостевой доступ к серверу и он
получает права доступа, назначенные для пользователя с учетной записью
guest. Это особенная, системная учетная запись, которую нельзя удалять.
Если же пользователь при входе в свой компьютер указал существующее на
сервере имя, но неправильный пароль, то при подключении сервер
показывает диалоговое окно, предлагающее ввести имя и пароль для входа.
После ввода имени и пароля, подключение к серверу производится именно
от этого имени, а не от имени, с помощью которого клиент вошел в
компьютер.<br>
</div>

<br>
<div style="text-align: justify;">
Следовательно, основная настройка клиента заключается в том, чтобы
организовать базу данных учетных записей пользователей,&nbsp; учетные
записи которой будут совпадать с учетными записями пользователей на
сервере. Организовать эту базу данных можно двумя способами:<br>

</div>
<ol>
  <li style="text-align: justify;">Создать учетные записи пользователей, от имени которых компьютер
будет подключаться к серверу в локальной базе данных учетных записей
пользователей операционной системы клиента. Это делается стандартными
средствами операционной системы клиента.<br>
  </li>
  <li style="text-align: justify;">Использовать
базу данных учетных записей пользователей, которая заведена на сервере.
Для этого необходимо преобразовать локальную сеть в домен. Это
делается в два этапа: сначала на сервере поднимается служба контроллера
домена, а затем на компьютерах клиентов выполнятся процедура входа в
домен, то есть, подключение к контроллеру домена. После этого, для
входа в компьютер используется не локальная база данных этого
компьютера, а база данных, расположенная на контроллере домена (на
сервере).</li>
</ol>
<div style="text-align: justify;">
Дополнительно, клиент при подключении к серверу передает ему также и
имя своего компьютера, и если в файловый сервер интегрирован Сетевой
центр, то это имя сравнивается с именами компьютеров,
зарегистрированных в Сетевом центре сервера. Если совпадение найдено,
то клиент получает доступ к общим папкам. Уровень доступа определяется
настройками прав доступа для компьютера с этим именем.<br>
</div>

<br>
<div style="text-align: justify;">
Таким образом существует две модели организации управления доступом: на
уровне компьютеров и на уровне пользователей. Можно использовать либо
одну из них, либо обе одновременно. В простых случаях рекомендуется
использовать что-то одно, потому что при использовании обеих моделей
одновременно они накладываются друг на друга, что значительно усложняет
администрирование системы и понимание того, какие права доступа получит
определенный пользователь, если он подключается с определенного
компьютера. Для более сложных и критичных к вопросам безопасности сетей
можно применять обе схемы одновременно. В этом случае они накладываются
друг на друга следующим образом:<br>
</div>

<br>
<div style="text-align: justify;">
1. Клиент, при подключении к серверу передает ему имя своего компьютера, имя пользователя и пароль.<br>
</div>
<div style="text-align: justify;">
2. Сервер проверяет, имеет ли доступ компьютер с таким именем и если
имеет, то переходит к проверке прав доступа переданного имени
пользователя, если же компьютер с таким именем не имеет доступа к этой
общей папке, то доступ к ней не предоставляется, даже если пользователь
имеет к ней доступ. Если компьютера с указанным именем не
зарегистрировано, то сервер смотрит, какие права доступа определены для
"компьютера по умолчанию" и предоставляет серверу доступ этого уровня.<br>
</div>
<div style="text-align: justify;">
3. Если компьютер имеет права доступа к общей папке, то сервер далее
проверяет права доступа пользователя к общей папке. Если пользователь с
таким именем обнаружен на сервере и если для него назначены права
доступа, то он получает эти права (но не большие, чем права доступа
компьютера к этой папке). Если пользователя с таким именем не найдено,
то сервер смотрит права доступа для "пользователя по умолчанию"
(пользователь по умолчанию это пользователь с учетной записью guest) и
предоставляет ему доступ в соответствии с назначенными правами (но не
большими, чем права доступа компьютера к этой папке).<br>
</div>

<br>
<div style="text-align: justify;">
Это позволяет более детально управлять правами доступа, позволять
пользователям подключаться к серверу под своими именами только с
определенных компьютеров.<br>
</div>

<br>
<div style="text-align: justify;">
Далее в этом разделе мы рассмотрим, как работать со всеми
рассмотренными выше объектами и понятиями как на сервере, так и на
клиентах.<br>
</div>

<h4>Настройка удаленных клиентов</h4>
<div style="text-align: justify;">Клиенты могут подключаться к общим
папкам сервера через Интернет по протоколам FTP и WebDAV.&nbsp; Для
обеспечения доступа удаленного компьютера к ресурсам сервера,
необходимо настроить клиента FTP или WebDAV, о чем подробнее написано в
отдельном разделе "<a onclick='parent.obj.go_to("11",true,event)' href="null">Организация доступа к серверу из Интернет</a>".<br>
</div>
<br>
<br>


</body></html>