<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>








<meta content="text/html; charset=UTF-8" http-equiv="content-type" /><title>virtuals</title></head><body>
<div style="text-align: justify;">
<h1>Управление виртуальными машинами</h1>

</div>


<div style="text-align: justify;">При открытии раздела <a onclick='parent.obj.go_to("3.3",true,event)' href="null">Панели управления</a> "<span style="font-weight: bold;">Виртуальные
машины</span>", в новом окне разворачивается интерфейс <span style="font-weight: bold;">phpVirtualBox</span>, который
позволяет управлять виртуальными машинами, установленными на сервере.
Мы выбрали именно этот интерфейс, потому что он очень похож на родной
графический интерфейс VirtualBox, идущий в комплекте с этой системой
виртуализации. Он интуитивно понятен и хорошо документирован. Всю
последнюю информацию о нем можно найти на сайте
<a href="http://www.virtualbox.org" target="_blank">http://www.virtualbox.org</a>. Попасть в справочную систему, размещенную в Интернет, можно выполнив команду "<span style="font-weight: bold;">Справка--&gt;Справка VirtualBox</span>" из меню.<br />
</div>
<br />
<div style="text-align: justify;">К сожалению никакой интерфейс не
может сравниться с возможностями командной строки. Для того чтобы
использовать все возможности VirtualBox, <a onclick='parent.obj.go_to("2.3",true,event)' href="null">подключитесь к серверу в
режиме командной строки</a> и используйте утилиту <span style="font-weight: bold;">VBoxManage</span>. С ее помощью
можно выполнять все, что позволяет графический интерфейс, а также ряд
других полезных действий, например, увеличивать размер виртульных
жестких дисков, подключенных к виртуальным машинам или изменять тип
образа виртуального жесткого диска для совместимости с другими
системами виртуализации и даже преобразовывать его в "сырой" образ для
развертывания прямо на жесткий диск.<br />
</div>
<br />
<div style="text-align: justify;">Есть еще одна операция, которая не
управляется ни интерфейсом, ни командой VBoxManage - это операция
автозапуска виртуальных машин. Если вы хотите, чтобы определенная
виртуальная машина автоматически запускалась во время загрузки сервера,
подключитесь удаленно к командной строке сервера, создайте пустой файл
c именем виртуальной машины (например с помощью команды "touch") и
поместите его в каталог <span style="font-style: italic;">/etc/vbox/autorun</span> на сервере. Если вы не
хотите, чтобы машина автоматически запускалась, просто удалите
соответствующий файл из каталога <span style="font-style: italic;">/etc/vbox/autorun</span>.<br />
</div>

<div style="text-align: justify;">
<h2><a name="p1">Менеджер виртуальных машин<br />
</a></h2>

</div>


<div style="text-align: center;"><a name="p1"><img style="width: 771px; height: 301px;" src="img/vboxmainwin.png" alt="vboxmainwin.png" /><br />
</a></div>
<a name="p1"><br />
</a><div style="text-align: justify;"><a name="p1">Как и у большинства настольных
приложений, в самом верху идет линейка меню, а под линейкой меню панель
инструментов, с основными командами из меню. Далее окно разделяется на
две части. В левой части находится <span style="font-style: italic;">список виртуальных машин</span>, размещенных
на сервере, а справа - <span style="font-style: italic;">информационная панель</span>, на которой находится
информация о выбранной виртуальной машине. Как видно из списка,
виртуальные машины могут находиться в разном состоянии. Запущенные в
данный момент машины находятся в состоянии "<span style="font-style: italic;">Работает</span>", а выключенные
машины находятся в состоянии "<span style="font-style: italic;">Выключена</span>". Если нажать по машине правой
кнопкой мыши, появится контекстное меню, с помощью которого можно
управлять состоянием машины: включать и выключать ее, приостанавливать,
а также просматривать или изменять ее параметры.<br />
</a></div>

<div style="text-align: justify;">
<h3><a name="p2">Информационная панель</a></h3>

</div>
<h4><a name="p3">Информация о хосте</a></h4>



<div style="text-align: justify;"><a name="p3">В списке виртуальных машин под первым
номером находится сам хост, на котором расположены эти виртуальные
машины. При его выборе, информационная панель показывает важную
информацию о хосте в целом. Эта информация состоит из трех разделов:
<span style="font-style: italic;">Общие</span>, <span style="font-style: italic;">Сеть</span> и <span style="font-style: italic;">Приводы</span> оптических дисков.<br />
</a></div>
<a name="p3"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p3">Общие</a></span><a name="p3"><br />
</a></div>
<ul>
<a name="p3">  </a><li><span style="font-weight: bold;"><a name="p3">Тип ОС </a></span><a name="p3">- тип операционной системы, установленной на хосте</a></li>
<a name="p3">  </a><li><span style="font-weight: bold;"><a name="p3">VirtualBox</a></span><a name="p3"> - версия среды виртуализации VirtualBox</a></li>
<a name="p3">  </a><li><span style="font-weight: bold;"><a name="p3">Основная память</a></span><a name="p3"> - показывает, сколько всего памяти установлено на сервере, сколько
памяти свободно (зеленая часть шкалы) и
сколько памяти занято (красная часть шкалы). В основном память используется виртуальными машинами. Не
отдавайте виртуальным машинам всю память, оставьте определенное ее
количество системе хоста. Системе хоста нужно не менее 256 Мб.</a></li>
</ul>
<div style="text-align: justify;"><span style="font-weight: bold;"><a name="p3">Сеть</a></span><a name="p3"><br />
</a></div>
<a name="p3"><br />
</a><div style="text-align: justify;"><a name="p3">Показывает информацию о сетевых
адаптерах. Если сетевых адаптеров несколько, можно разделить их между
виртуальными машинами, допустим, дать одной машине сетевой интерфейс
eth0, а другой машине сетевой интерфейс eth1. Для того чтобы сетевой
интерфейс можно было выдать виртуальной машине, он должен быть поднят,
то есть, активен. В последней строке информации об интерфейсе написаны
имена виртуальных машин, использующих этот интерфейс. Один сетевой
интерфейс могут использовать несколько виртуальных машин.<br />
</a></div>
<a name="p3"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p3">Приводы оптических дисков</a></span><a name="p3"><br />
</a></div>
<a name="p3"><br />
</a><div style="text-align: justify;"><a name="p3">Показывает информацию о DVD-приводе
хоста, а также, если он присоединен к какой-либо виртуальной машине,
название виртуальной машины, которая его использует. DVD-привод хоста
одновременно может использовать только одна виртуальная машина. Чтобы
дать возможность нескольким машинам иметь DVD, нужно подключать к ним
ISO-образы дисков в качестве DVD-приводов.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p4">Информация о виртуальной машине</a></h4>

</div>

<div style="text-align: justify;"><a name="p4">При выборе виртуальной машины из списка, информационная панель показывает информацию об этой машине. <br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: center;"><a name="p4"><img src="img/vminfopanel.png" alt="vminfopanel.png" /><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Также, при выборе виртуальной машины,
над информационной панелью становятся активны две или три кнопки,
позволяющие переключать информационную панель в разные режимы<br />
</a></div>
<a name="p4"><br />
<br />
</a><div style="text-align: center;"><a name="p4"><img src="img/vboxtabs.png" alt="vboxtabs.png" /><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Изначально активна кнопка "<span style="font-weight: bold;">Детали</span>",
показывающая стандартную информационную панель виртуальной машины.
Если машина находится в состоянии "<span style="font-style: italic;">Работает</span>", то становится доступной
кнопка "<span style="font-weight: bold;">Консоль</span>", которая позволяет подключиться к экрану виртуальной
машины и управлять ей. С помощью кнопки "Снимки" предоставляется доступ
к снимкам состояния виртуальной машины. Снимки это своеобразные копии
виртуальной машины. В любой момент можно сделать снимок текущего
состояния виртуальной машины и затем при необходимости вернуть машину в
это состояние.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Информация о виртуальной машине, появляющаяся при нажатии на кнопку "<span style="font-weight: bold;">Детали</span>" состоит из нескольких разделов.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Общие</a></span><a name="p4"><br />
</a></div>
<ul>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Имя</a></span><a name="p4"> - имя виртуальной машины</a></li>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Тип ОС</a></span><a name="p4"> - тип операционной системы, установленной в виртуальной машине</a></li>
</ul>
<div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Система</a></span><a name="p4"><br />
</a></div>
<ul>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Основная память</a></span><a name="p4"> - количество оперативной памяти, выделенной виртуальной машине</a></li>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Порядок загрузки</a></span><a name="p4"> - порядок опроса дисковых устройств при загрузке
виртуальной машины. В данном случае имеются в виду виртуальные дисковые
устройства, созданные для нее. Обычно сначала производится попытка
загрузить машину с виртуального DVD-ROM, затем с виртуального жесткого
диска, а затем с виртуальной дискеты</a></li>
</ul>
<div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Дисплей</a></span><a name="p4"><br />
</a></div>
<ul>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Видеопамять</a></span><a name="p4"> - количество видеопамяти, выделенной компьютеру</a></li>
<a name="p4">  </a><li><span style="font-weight: bold;"><a name="p4">Порт сервера удаленного дисплея</a></span><a name="p4"> - VirtualBox позволяет удаленно
подключаться к экрану виртуальной машины по протоколу RDP. Для этого на
сервере создается сокет, который привязывается к определенному порту. Этот порт или диапазон портов здесь указан. </a></li>
</ul>
<div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Носители</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Здесь показаны виртуальные дисковые
контроллеры и виртуальные дисковые носители, которые к ним подключены.
Виртуальная машина воспринимает виртуальные контроллеры как обычные
реальные контроллеры, а файлы образов, подключенные к этим контроллерам
как реальные жесткие диски или приводы DVD. Изначально у виртуальной
машины два контроллера: контроллер SATA и контроллер IDE. К контроллеру
SATA может быть подключено любое количество жестких дисков, где жесткий
диск это файл образа, находящийся в папке с виртуальной машиной в
/data/VirtualBox.&nbsp; К контроллеру IDE может быть подключен либо
ISO-образ CD или DVD диска, либо сам DVD-привод сервера. Виртуальная
машина воспринимает этот образ как DVD-диск.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Аудио</a></span><a name="p4"> <br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Информация о виртуальной аудиосистеме, созданной для виртуальной машины. Для серверов обычно аудиосистема отключается.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Сеть</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Информация о виртуальных сетевых
адаптерах, созданных на базе сетевых интерфейсов сервера. Указывается
имя драйвера сетевого адаптера (обычно "<span style="font-style: italic;">Паравиртуальная сеть</span>"), на базе
какого сетевого интерфейса создан. Если виртуальная машина включена, то
появляется ссылка "<span style="font-style: italic;">Гостевые сетевые адаптеры</span>", при нажатии на которую
можно узнать, какой IP-адрес, MAC-адрес и маска сети&nbsp; присвоены
этому сетевому интерфейсу в системе виртуальной машины.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">COM-порты</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Для виртуальной машины можно создать один или два COM-порта. В этом разделе показана информация о них.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">USB</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">В виртуальную машину можно
"пробросить" USB-устройства, подключенные к серверу. Если
USB-устройство выделено для виртальной машины, эта машина получает
монопольный доступ к нему. Устройство становится доступным только
внутри виртуальной машины и недоступно самому серверу. В этом разделе
показана информация о USB-устройствах, активных внутри виртуальной
машины в данный момент<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Описание</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">Произвольное описание виртуальной
машины, которое можно указать при создании виртуальной машины или при
редактировании ее свойств.<br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;"><a name="p4">Превью</a></span><a name="p4"><br />
</a></div>
<a name="p4"><br />
</a><div style="text-align: justify;"><a name="p4">В этом разделе показано, что
изображено на экране виртуальной машины в данный момент, если она
включена. Чтобы получить полный доступ к экрану виртуальной машины,
нужно нажать кнопку "<span style="font-weight: bold;">Консоль</span>", которая находится над информационной
панелью.<br />
</a></div>

<div style="text-align: justify;">
<h2><a name="p5">Подключение к экрану виртуальной машины</a></h2>

</div>

<div style="text-align: justify;"><a name="p5">При нажатии на кнопку "<span style="font-weight: bold;">Консоль</span>" над
информационной панелью активной виртуальной машины, мы попадаем на
закладку панели, позволяющую подключиться к экрану виртуальной машины и
управлять ей.<br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: center;"><a name="p5"><img src="img/consoleconnectopts.png" alt="consoleconnectopts.png" /><br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: justify;"><a name="p5">Для доступа к экрану виртуальной
машины нужно ввести имя пользователя и пароль. Можно подключаться от
имени любого пользователя, заведенного на сервере, например root. Далее
нужно выбрать разрешение экрана и
нажать кнопку "<span style="font-weight: bold;">Подключить</span>". Экспериментально было установлено, что
разрешение экрана не должно быть ниже 800x600. В поле ввода
указано имя или IP-адрес хоста и порт, на&nbsp; котором висит
RDP-сервер, обслуживающий экран данной виртуальной машины. Обычно
ничего менять не нужно. Если на вашей рабочей станции неправильно
настроен клиент DNS, то придется указать вместо имени хоста его
IP-адрес.<br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: justify;"><a name="p5">Если все правильно, появится экран
виртуальной машины. Через этот экран с машиной можно взаимодействовать
с помощью клавиатуры и мыши. Чтобы начать взаимодействие, нужно
щелкнуть мышью внутри экрана. <br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: justify;"><a name="p5">Технологии виртуализации дают вам
значительно большие возможности по взаимодействию с сервером с
удаленного рабочего места по сравнению со средствами удаленного доступа
к командой строке или рабочему столу по SSH. С помощью этой консоли вы
можете полностью управлять виртуальной машиной и видеть весь процесс ее
работы. Например вы можете перезагрузить виртуальную машину с помощью
команды reboot и наблюдать за процессом ее загрузки и выгрузки или,
например, если машина зависла, вы можете увидеть, что отображается на
ее экране в этот момент. Ни одно другое средство удаленного управления
не даст вам такой возможности.<br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: center;"><a name="p5"><img src="img/vboxconsole.png" alt="vboxconsole.png" /><br />
</a></div>
<a name="p5"><br />
</a><div style="text-align: justify;"><a name="p5">На этом скриншоте показано наблюдение за процессом загрузки системы сервера в виртуальной машине.<br />
</a></div>

<div style="text-align: justify;">
<h2><a name="p6">Управление виртуальной машиной</a></h2>

</div>

<div style="text-align: justify;"><a name="p6">Чуть выше было рассказано о
взаимодействии с виртуальной машиной через консоль. В этой теме мы
расскажем о других операциях, которые можно выполнять с виртуальной
машиной.<br />
</a></div>
<a name="p6"><br />
</a><div style="text-align: justify;"><a name="p6">Все операции доступны из контекстного
меню, если нажать на виртуальной машине правой кнопкой мыши. Эти
операции продублированы в разделе "<span style="font-weight: bold;">Машина</span>" главного меню. Также, четыре
основных команды: "<span style="font-weight: bold;">Создать</span>", "<span style="font-weight: bold;">Свойства</span>", "<span style="font-weight: bold;">Старт</span>" и "<span style="font-weight: bold;">Остановить</span>"
вынесены в панель инструментов под меню.<br />
</a></div>
<a name="p6"><br />
</a><div style="text-align: justify;"><a name="p6">Большинство параметров виртуальной
машины можно изменять только если она выключена. Однако некоторые из
них нужно изменять только если она включена.<br />
</a></div>

<div style="text-align: justify;">
<h3><a name="p7">Включение и выключение виртуальной машины</a></h3>

</div>

<div style="text-align: justify;"><a name="p7">Чтобы включить остановленную виртуальную машину, нужно выполнить команду "<span style="font-weight: bold;">Старт</span>" из контекстного меню:<br />
</a></div>
<a name="p7"><br />
</a><div style="text-align: center;"><a name="p7"><img src="img/startvm.png" alt="startvm.png" /><br />
</a></div>
<a name="p7"><br />
</a><div style="text-align: justify;"><a name="p7">Чтобы прервать работу виртуальной машины, нужно воспользоваться одной из команд подменю "<span style="font-weight: bold;">Остановить</span>":<br />
</a></div>
<a name="p7"><br />
</a><div style="text-align: center;"><a name="p7"><img src="img/stopvm.png" alt="stopvm.png" /><br />
</a></div>
<a name="p7"><br />
</a><ul>
<a name="p7">  </a><li><span style="font-weight: bold;"><a name="p7">Выключить через ACPI</a></span><a name="p7"> - наиболее правильное выключение машины.
Аналогично нажатии кнопки "Power" на системном блоке компьютера.
Правильно завершает работу машины и выключает ее.</a></li>
<a name="p7">  </a><li><span style="font-weight: bold;"><a name="p7">Пауза</a></span><a name="p7"> - приостанавливает работу машины. Аналогично нажатию кнопки
"Sleep" на системном блоке компьютера. Машина засыпает, сохраняя свое
состояние. Затем ее можно снова включить, выполнив команду "Старт" из
контекстного меню. Машина продолжит свою работу с того места, на
котором остановилась</a></li>
<a name="p7">  </a><li><span style="font-weight: bold;"><a name="p7">Выключить машину </a></span><a name="p7">- эта команда аналогична выдергиванию кабеля питания компьютера из розетки.</a></li>
<a name="p7">  </a><li><span style="font-weight: bold;"><a name="p7">Сброс</a></span><a name="p7"> - эта команда аналогична нажатию кнопки "Reset" на системном блоке компьютера<br />
  </a></li>
</ul>
<div style="text-align: justify;"><a name="p7">Мы пропустили пункт "<span style="font-weight: bold;">Сохранить
состояние машины</span>". Эта команда не выключает машину, а позволяет
сохранить ее состояние перед выключением. Затем можно запустить машину,
начав работу с этого сохраненного состояния.<br />
</a></div>

<div style="text-align: justify;">
<h3><a name="p8">
Свойства виртуальной машины</a></h3>

</div>


<div style="text-align: justify;"><a name="p8">Виртуальная машина определяется
набором параметров, на основании которых VirtualBox формирует для
операционной системы, которая в этой виртуальной машине установлена
среду, идентичную реальному компьютеру. При взаимодействии с
операционной системой, эта среда эмулирует поведение реального железа.
Этот набор параметров можно менять для того чтобы добиваться нужных
целей.<br />
</a></div>
<a name="p8"><br />
К параметрам виртуальной машины относятся:<br />
</a><ul>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Тип операционной системы</a></span><a name="p8">, которая установлена в машине</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры материнской платы</a></span><a name="p8">, в частности, ряд параметров, которые
обычно устанавливаются в BIOS. Это порядок опроса дисковых устройств
при загрузке и поддержка аппаратной виртуализации</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры процессора</a></span><a name="p8">, а именно, какое количество ядер процессора выделяется системой хоста для виртуальной машины.</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Количество оперативной памяти</a></span><a name="p8">, которая выделяется для виртуальной машины</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры экрана:</a></span><a name="p8"> количество видеопамяти и параметры для удаленного подключения к экрану виртуальной машины</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры
дисковой подсистемы</a></span><a name="p8">: дисковые контроллеры и накопители, подключенные к
ним. В качестве накопителей могут быть образы жестких дисков, дискет и
CD или DVD-дисков, которые могут подключаться к виртуальным IDE, SATA,
SAS, SCSI и Floppy-контроллерам</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры звуковой подсистемы</a></span><a name="p8">, такие как тип звуковой карты</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Параметры сети</a></span><a name="p8">. Можно создать для виртуальной машины от одного до четырех виртуальных
сетевых адаптеров и настроить их параметры, такие как тип, MAC-адрес и
способ подключения</a></li>
<a name="p8">  </a><li><span style="font-weight: bold;"><a name="p8">Внешние USB-устройства</a></span><a name="p8">, подключенные к виртуальной машине.</a></li>
</ul>
<div style="text-align: justify;"><a name="p8">Большинство из этих параметров можно
менять и как и в случае с физическим компьютером, большинство из них
можно менять только при выключенной машине. Например, нельзя при
включенной машине изменить процессор или количество оперативной памяти,
но можно вставить другой компакт-диск или подключить USB-устройство.
Поэтому, большинство свойств доступно для редактирования только для
машин, находящихся в состоянии "Выключена".<br />
</a></div>
<a name="p8"><br />
</a><div style="text-align: justify;"><a name="p8">Далее мы рассмотрим большинство
параметров, которые нам кажутся важными для виртуальных серверов.
Информацию о всех остальных параметрах вы сможете найти в руководстве
пользователя VirtualBox.<br />
</a></div>
<a name="p8"><br />
</a><div style="text-align: justify;">
<a name="p8">Для редактирования свойств выключенной виртуальной машины, нужно нажать
по ней правой кнопкой мыши и выполнить команду "<span style="font-weight: bold;">Свойства</span>" из
контекстного меню.<br />
</a></div>

<a name="p8"><br />
</a><div style="text-align: center;"><a name="p8"><img src="img/vboxvmpropertiesmenu.png" alt="vboxvmpropertiesmenu.png" /><br />
</a></div>
<a name="p8"><br />
</a><div style="text-align: justify;">
<a name="p8">Появится окно свойств виртуальной машины, в котором свойства разбиты на группы, показанные в списке слева. <br />
</a></div>

<a name="p8"><br />
</a><div style="text-align: center;"><a name="p8"><img src="img/vboxvmpropswindow.png" alt="vboxvmpropswindow.png" /><br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p9">Раздел "Общие"</a></h4>

</div>

<div style="text-align: justify;"><a name="p9">В этом разделе указывается название
виртуальной машины, ее описание, тип и версия операционной системы,
которая в ней установлена (или будет установлена). Также можно указать
папку, в которой будут храниться снимки состояния машины, если эту
возможность планируется использовать.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p10">Раздел "Система"</a></h4>

</div>

<div style="text-align: justify;"><a name="p10">В этом разделе указываются параметры материнской платы, процессора и оперативной памяти виртуальной машины. <br />
</a></div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">На закладке "<span style="font-weight: bold;">Материнская плата</span>" указывается количество оперативной памяти, которая будет доступна виртуальной машине. <br />
</a></div>
<a name="p10"><br />
<br />
</a><div style="text-align: center;"><a name="p10"><img src="img/vboxmbprops.png" alt="vboxmbprops.png" /><br />

</a></div>
<div style="text-align: justify;"><a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">Ниже в списке определяется порядок
опроса дисковых устройств при загрузке системы с виртуальной машины.
Если нужно чтобы машина загружалась с DVD (а это нужно для новых машин,
на которых еще не установлена операционная система), "<span style="font-style: italic;">CD/DVD-ROM</span>"
должен быть в этом списке выше, чем "<span style="font-style: italic;">Жесткий диск</span>".&nbsp; <br />

</a></div>
</div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">Ниже указывается чипсет материнской
платы, который нужно менять только если хотите установить MacOS. Ниже идет набор
флажков для дополнительных возможностей.<br />
</a></div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">На закладке "<span style="font-weight: bold;">Процессоры</span>" указывается,
какое количество процессоров выделяется этой виртуальной машине. Как
известно, многоядерный процессор воспринимается системой как несколько
процессоров, поэтому, можно сказать, что здесь указывается количество
ядер процессоров, выделяемых машине. <br />
<br />
</a><div style="text-align: center;"><a name="p10"><img src="img/vboxcpuprops.png" alt="vboxcpuprops.png" /><br />
</a></div>
<a name="p10"><br />
С помощью движка "<span style="font-weight: bold;">Процессоры</span>"
установите нужное количество. Нельзя выделить машине процессоров и ядер
больше, чем физически установлено в сервере. Процессоры, выделяемые
машине не используются ей монопольно. VirtualBox может использовать их
и в других машинах при необходимости.<br />
</a></div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">Ниже указывается предел загрузки
процессоров. С помощью этого параметра можно влиять на приоритетность
данной машины при совместном использовании процессоров несколькими
машинами. Можно уменьшить максимальный процент загрузки процессора,
чтобы машина не могла загрузить процессор полностью. <br />
</a></div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">Флажок "<span style="font-weight: bold;">Включить PAE/NX</span>" позволяет
32-битным системами использовать более 4 Гб оперативной памяти. Если у
вас 64-битные виртуальные машины или если они используют менее 4 Гб
оперативной памяти, включать этот флажок не имеет смысла.<br />
</a></div>
<a name="p10"><br />
</a><div style="text-align: justify;"><a name="p10">На закладке "<span style="font-weight: bold;">Ускорение</span>" нужно
включить все флажки в группе "<span style="font-weight: bold;">Аппаратная виртуализация</span>". Если эти
флажки включены, VirtualBox, при взаимодействии с этой виртуальной
машиной использует возможности виртуализации процессора, что ускоряет
работу. Для поддержки этой возможности, внутри виртуальной машины, в ее
операционной системе должны быть установлены "<span style="font-style: italic;">Расширения VirtualBox для
гостевых ОС</span>". Во всех предустановленных виртуальных машинах эти
расширения установлены.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p11">
Раздел "Дисплей"</a></h4>

</div>


<div style="text-align: justify;">
<a name="p11">В этом разделе указываются параметры экрана виртуальной машины.<br />
</a></div>

<a name="p11"><br />
</a><div style="text-align: justify;">
<a name="p11">На закладке "<span style="font-weight: bold;">Видеопамять</span>" указывается количество памяти, которая выделяется виртуальной видеокарте.<br />
</a></div>

<a name="p11"><br />
</a><div style="text-align: justify;">
На закладке "<span style="font-weight: bold;">Удаленный дисплей</span>" указываются параметры, необходимые для
организации удаленного подключения к экрану виртуальной машины. (Сам
процесс этого подключения и работы с экраном виртуальной машины
рассматривался ранее в теме "<a onclick='parent.obj.go_to("5.2",true,event)' href="null">Подключение к экрану виртуальной машины</a>"). <br />

</div>
<a name="p11"><br />
</a><div style="text-align: center;"><a name="p11"><img src="img/vboxrdpprops.png" alt="vboxrdpprops.png" /><br />
</a></div>
<a name="p11"><br />
</a><div style="text-align: justify;"><a name="p11">Для организации возможности
удаленного подключения, на сервере
включается сервер RDP (если включен флажок "<span style="font-weight: bold;">Включить сервер</span>"), который
слушает подключения на указанном в поле "<span style="font-weight: bold;">Порт сервера</span>" порту. Этот порт
должен быть уникален для каждой виртуальной машины. При
подключении клиента RDP к этому порту, сервер запрашивает у него имя
пользователя и пароль. Введенные имя и пароль проверяются в зависимости
от значения, указанного в поле "<span style="font-weight: bold;">Метод аутентификации</span>". Если в этом поле
указано "<span style="font-weight: bold;">Внешняя</span>", сервер принимает любого пользователя, заведенного на
самом сервере, а если указано "<span style="font-weight: bold;">Гостевая ОС</span>", сервер принимает любого
пользователя, заведенного внутри операционной системы самой виртуальной
машины. Для того чтобы второе работало, в системе виртуальной машины
должны быть установлены "<span style="font-style: italic;">Расширения VirtualBox для гостевой ОС</span>".<br />
<br />
Если включить флажок "<span style="font-weight: bold;">Разрешать несколько подключений</span>", то можно будет
одновременно подключаться к экрану машины не только через интерфейс
VirtualBox, но и с помощью любого RDP-клиента. Например в Linux есть
консольный RDP-клиент rdesktop. Можно будет набрать с удаленной рабочей станции:<br />
</a></div>

<a name="p11"><br />
</a><div style="text-align: justify;"><span style="font-style: italic;"><a name="p11">rdesktop -u &lt;имя-пользователя&gt; -p &lt;пароль&gt; &lt;IP-адрес сервера&gt;:&lt;Порт сервера&gt;</a></span><a name="p11"><br />
</a></div>
<a name="p11"><br />
</a><div style="text-align: justify;"><a name="p11">и произойдет подключение к экрану данной виртуальной машины.<br />
</a></div>
<a name="p11"><br />
</a><div style="text-align: justify;"><a name="p11">В Windows для этой цели можно будет использовать стандартную утилиту "<span style="font-style: italic;">Подключение к удаленному рабочему столу</span>". <br />
</a></div>

<h4><a name="p12">
Раздел "Носители"</a></h4>


<a name="p12">Этот раздел позволяет подключать к виртуальной машине виртуальные жесткие диски и оптические приводы.<br />
<br />
</a><div style="text-align: center;"><a name="p12"><img src="img/virtualhddprops.png" alt="virtualhddprops.png" /><br />
</a></div>
<a name="p12"><br />
</a><div style="text-align: justify;"><a name="p12">Слева находится список контроллеров и
дисков, которые к ним подключены. Справа находится панель свойств
текущего элемента списка.<br />
</a></div>
<a name="p12"><br />
</a><div style="text-align: justify;"><a name="p12">Под списком находятся четыре кнопки, предназначенные для создания и удаления контроллеров и дисковых устройств.<br />
</a></div>
<a name="p12"><br />
</a><div style="text-align: justify;"><a name="p12">Можно создавать контроллеры следующих типов:<br />
</a></div>
<ul>
<a name="p12">  </a><li><a name="p12">IDE-контроллер</a></li>
<a name="p12">  </a><li><a name="p12">SATA-контроллер</a></li>
<a name="p12">  </a><li><a name="p12">SCSI-контроллер</a></li>
<a name="p12">  </a><li><a name="p12">Floppy-контроллер</a></li>
<a name="p12">  </a><li><a name="p12">SAS-контроллер</a></li>
</ul>
<div style="text-align: justify;"><a name="p12">Новый контроллер можно добавить,
нажав третью кнопку под списком. Соответственно, удалить выбранный в
списке контроллер можно с помощью четвертой кнопки. Эти действия также
доступны через команды контекстного меню, которое появляется при
нажатии правой кнопкой мыши внутри списка.<br />
</a></div>
<a name="p12"><br />
</a><div style="text-align: justify;"><a name="p12">К каждому контроллеру можно добавлять
различные дисковые устройства. Разные контроллеры поддерживают разные
типы устройств. IDE и SATA-контроллеры поддерживают два типа носителей:
жесткие диски и оптические приводы. SCSI и SAS контроллеры поддерживают
только жесткие диски. Floppy-контроллер поддерживает только
Floppy-дисководы.<br />
</a></div>
<a name="p12"><br />
</a><div style="text-align: justify;"><a name="p12">Для того чтобы добавить новый
носитель к контроллеру, выделите нужный контроллер и нажмите первую
кнопку (<span style="font-weight: bold;">Добавить устройство</span>) под списком. Также можно выполнить эту
команду с помощью контекстного меню, которое появляется при нажатии
правой кнопки мыши по значку контроллера. Далее нужно выбрать тип добавляемого носителя<br />
</a></div>

<div style="text-align: justify;">
<h5><a name="p13">
Добавление оптических приводов</a></h5>

</div>


<div style="text-align: justify;">
<a name="p13">При добавлении нового оптического привода, предлагается выбрать один из вариантов<br />
</a></div>

<a name="p13"><br />
</a><div style="text-align: center;"><a name="p13"><img src="img/vboxnewdvd.png" alt="vboxnewdvd.png" /><br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: justify;"><a name="p13">Оптический привод можно создать либо
пустым, либо с диском. В качестве диска используется ISO-образ CD или
DVD-диска, который должен быть заранее подготовлен и записан на сервер.<br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: justify;"><a name="p13">Если оставить привод пустым, то можно
будет в дальнейшем вставить в него ISO-образ. На сервере, в каталоге
/data/VirtualBox предустановлено два ISO-образа:<br />
</a></div>
<ul>
<a name="p13">  </a><li><span style="font-weight: bold;"><a name="p13">rescue-virtual.iso</a></span><a name="p13"> - образ CD-диска аварийного восстановления, с
помощью которого можно загрузить виртуальную машину, если нужно
изменить размер файловой системы системного диска виртуальной машины</a></li>
<a name="p13">  </a><li><span style="font-weight: bold;"><a name="p13">debian-6.0.3-amd64-CD-1.iso</a></span><a name="p13"> - установочный диск дистрибутива
системы Debian GNU/Linux 6 Squeeze, являющийся основой всех
предустановленных виртуальных серверов</a></li>
</ul>
<div style="text-align: justify;"><a name="p13">Если создать оптический привод и
вставить в него ISO-образ установочного диска, то виртуальная машина
загрузится с этого образа. Это необходимо делать для новых виртуальных
машин, чтобы установить операционную систему.<br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: justify;"><a name="p13">Чтобы в дальнейшем сменить диск,
вставленный в привод или изъять диск из привода, нужно выделить этот
привод в списке, нажать кнопку с изображением диска на панели свойств
привода и выбрать нужное действие из меню:<br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: center;"><a name="p13"><img style="width: 500px; height: 191px;" src="img/vboxchangecd.png" alt="vboxchangecd.png" /><br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: justify;"><a name="p13">Можно либо вставить в качестве диска
другой ISO-образ, либо использовать "<span style="font-weight: bold;">Привод хоста</span>", то есть диск,
вставленный в физический DVD-привод сервера. Также можно "<span style="font-weight: bold;">Изъять диск из
привода</span>" (не забывайте этого делать, иначе виртуальная машина будет
загружаться с него постоянно).<br />
</a></div>
<a name="p13"><br />
</a><div style="text-align: justify;"><a name="p13">Вставлять и извлекать диски из
привода можно как в остановленной машине, так и во время ее работы. В
этом случае диск моментально будет доступен в виртуальной машине.<br />
</a></div>

<div style="text-align: justify;">
<h5><a name="p14">Добавление жестких дисков</a></h5>

</div>

<div style="text-align: justify;"><a name="p14">Виртуальный жесткий диск это образ,
то есть файл, в котором содержится жесткий диск с разметкой и данными.
phpVirtualBox позволяет создавать обазы виртуальных дисков четырех
типов:<br />
</a></div>
<a name="p14"><br />
</a><ul>
<a name="p14">  </a><li><span style="font-weight: bold;"><a name="p14">VDI</a></span><a name="p14"> - родной формат VirtualBox</a></li>
<a name="p14">  </a><li><span style="font-weight: bold;"><a name="p14">VMDK</a></span><a name="p14"> - формат виртуальных дисков VMWare</a></li>
<a name="p14">  </a><li><span style="font-weight: bold;"><a name="p14">VHD</a></span><a name="p14"> - формат виртуальных дисков Microsoft VirtualPC</a></li>
<a name="p14">  </a><li><span style="font-weight: bold;"><a name="p14">HDD</a></span><a name="p14"> - формат виртуальных дисков Parallels <br />
  </a></li>
</ul>
<div style="text-align: justify;"><a name="p14">Соответственно результатом процедуры
создания диска будет файл с соответствующим расширением. Мы рекомендуем
создавать диски <span style="font-weight: bold;">.vdi</span>, потому что для этих дисков поддерживается функция
динамического увеличения размера. Однако, если потребуется, VirtualBox,
с помощью утилиты командной строки <span style="font-weight: bold;">VBoxManage</span> позволяет конвертировать
виртуальные диски из одного формата в другой, а также в формат <span style="font-style: italic;">RAW</span>, то
есть в "сырой" образ жесткого диска, который в дальнейшем можно
развернуть на "голом железе", без виртуализации.<br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;"><a name="p14">При добавлении нового жесткого диска будет предложено выбрать один из вариантов:<br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: center;"><a name="p14"><img src="img/vboxaddnewhd.png" alt="vboxaddnewhd.png" /><br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;">
<a name="p14">Вы можете либо "<span style="font-weight: bold;">Создать новый диск</span>", либо "<span style="font-weight: bold;">Выбрать существующий диск</span>".<br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: justify;">
<a name="p14">Второй вариант позволяет подключить к данной машине уже существующий
файл образа жесткого диска, который расположен где-либо в файловой
системе сервера. Эта возможность позволяет переносить жесткие диски с
одной виртуальной машины в другую или даже с одного физического сервера
на другой. И в этот момент очень важное замечание:<br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold;">
<a name="p14">ВНИМАНИЕ ! НЕ ЗАПУСКАЙТЕ ОДНОВРЕМЕННО НЕСКОЛЬКО ВИРТУАЛЬНЫХ МАШИН, К
КОТОРЫМ ПОДКЛЮЧЕН ОДИН И ТОТ ЖЕ ФАЙЛ ВИРТУАЛЬНОГО ЖЕСТКОГО ДИСКА. ЭТО
ПРИВЕДЕТ К ПОЛНОМУ РАЗРУШЕНИЮ ДАННЫХ НА ЭТОМ ДИСКЕ.</a></span><a name="p14"><br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: justify;">
<a name="p14">Если же выбрать первый вариант ("<span style="font-weight: bold;">Создать новый диск</span>"), запустится
мастер создания нового диска. На первой странице мастера выбирается тип
виртуального диска:<br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: center;"><a name="p14"><img src="img/newhdmaster1.png" alt="newhdmaster1.png" /><br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;">
<a name="p14">Выбирается один из указанных ранее типов дисков.<br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: center;"><a name="p14"><img src="img/newhdmaster2.png" alt="newhdmaster2.png" /><br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;">
<a name="p14">Отличие динамического диска от фиксированного описаны на самой странице
мастера. В большинстве случаев нужно выбирать "<span style="font-weight: bold;">Динамический виртуальный
диск</span>". Он будет занимать столько пространства на диске сервера, сколько
реально будет данных на нем.<br />
</a></div>

<a name="p14"><br />
</a><div style="text-align: center;"><a name="p14"><img src="img/newhdmaster3.png" alt="newhdmaster3.png" /><br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;"><a name="p14">На этом шаге в поле "<span style="font-weight: bold;">Расположение</span>"
указывается путь к файлу образа, который будет создан и имя этого
файла. Если указать просто имя без пути, файл образа будет создан в
каталоге виртуальной машины, который находится в <span style="font-style: italic;">/data/VirtualBox</span>.<br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;"><a name="p14">В поле размер с помощью движка устанавливается размер жесткого диска. <br />
</a></div>
<a name="p14"><br />
</a><div style="text-align: justify;"><a name="p14">После нажатия на кнопку "<span style="font-weight: bold;">Далее</span>"
появится завершающее окно мастера, в котором нужно нажать кнопку
"<span style="font-weight: bold;">Создать</span>". Образ диска будет создан и добавлен к контроллеру.<br />
</a></div>

<div style="text-align: justify;">
<h5><a name="p15">Изменение размеров виртуальных дисков</a></h5>

</div>

<div style="text-align: justify;"><a name="p15">В этом теме мы немного отвлечемся от
окна параметров виртуальной машины и рассмотрим такую важную операцию,
как изменение размеров виртуальных дисков. Потом мы вернемся и перейдем
к следующим разделам в окне параметров виртуальной машины.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Если выделить жесткий диск в списке,
справа появится информация о нем. Например, вот такая информационная
панель появится если выделить системный диск виртуальной машины
контроллера домена (Controller.vdi):<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: center;"><a name="p15"><img src="img/vboxhddattrs.png" alt="vboxhddattrs.png" /><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">В "комбобоксе" указано, к какому
порту контроллера этот диск подключен. Можно либо изменить порт, выбрав
его из списка, либо подключить к указанному порту другой диск, нажав на
изображение диска справа от списка и выбрав нужное действие из меню (по
аналогии с тем, как это делается с виртуальными приводами оптических
дисков).<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Далее можно включить флажок "<span style="font-weight: bold;">Твердотельный накопитель</span>" для эмуляции работы твердотельного диска.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Далее идет панель "Информация",&nbsp;
"Тип (формат)" диска и его размер, расположение и к какой виртуальной
машине он присоединен. Для дисков, имеющих тип "<span style="font-weight: bold;">Динамически
расширяющийся образ</span>" (динамический диск) указывается два размера:
виртуальный и реальный. Эти размеры отличаются. Виртуальный размер это
размер диска, который видит система, установленная в виртуальной
машине, а реальный размер, это размер файла образа диска на сервере. По
мере заполнения диска системой виртуальной машины, файл образа
расширяется и реальный размер увеличивается. Размер файла может
увеличиваться до виртуального размера. При уменьшении количества данных
на диске, образ не уменьшается автоматически, но его можно сжать. Для
этого нужно выполнить в командной строке сервера команду:<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><span style="font-style: italic;"><a name="p15">VBoxManage modifyhd &lt;путь-к-файлу-образа&gt; --compact</a></span><a name="p15"><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;">подключившись к серверу в режиме командной строки (см. раздел "<a onclick='parent.obj.go_to("2.3",true,event)' href="null">Подключение к серверу</a>").<br />

</div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Если жесткий диск имеет формат VDI, можно увеличивать его максимальный (виртуальный) размер с помощью команды<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><span style="font-style: italic;"><a name="p15">VBoxManage modifyhd &lt;путь-к-файлу-образа&gt; --resize &lt;новый-размер-в-мегабайтах&gt;</a></span><a name="p15"><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Перед этой операцией необходимо остановить виртуальную машину.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Уменьшать размер динамического образа
диска нельзя. Видимо разработчики решили что в этом нет смысла,
достаточно уменьшить размер файловой системы в самой виртуальной
машине, после чего выполнить команду<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><span style="font-style: italic;"><a name="p15">VBoxManage modifyhd &lt;путь-к-файлу-образа&gt; --compact</a></span><a name="p15"><br />
</a></div>

<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">После того как размер виртуального
диска изменился, внутри виртуальной машины это дополнительное
пространство добавится в конец диска, но, естественно, не будет
присоединено ни к какому разделу. Чтобы добавить это пространство к
одной из файловых систем виртуальной машины, нужно использовать
средства системы виртуальной машины. В классическом варианте, для
увеличения размера раздела систему загружают с CD, на котором есть
утилита gparted и с ее помощью выполняют операцию увеличения размера
раздела. На больших объемах дисков эта процедура длится очень долго.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;">В виртуальных машинах, которые
предустановлены на сервере, мы обошли эту проблему. Мы отдали жесткие
диски виртуальных машин под управление менеджера логических томов LVM.
Для каждого жесткого диска мы создали группу томов и поместили этот
диск в группу томов. Затем в этой группе томов создали логический том,
размер которого равен размеру всего диска. Этот логический том является
динамическим и его размер можно менять с помощью утилиты "<a onclick='parent.obj.go_to("4.3.4",true,event)' href="null"><span style="font-weight: bold;">Управление
логическими разделами</span></a>". Использование этой утилиты рассматривалось
ранее в теме "<a onclick='parent.obj.go_to("4.3",true,event)' href="null">Диск аварийного восстановления системы</a>".&nbsp; С помощью
этой утилиты можно увеличивать размер логического тома или уменьшать
его.<br />

</div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">В каждой предустановленной
виртуальной машине есть две группы LVM: <span style="font-style: italic;">system</span> и <span style="font-style: italic;">data</span>. В первой группе
есть единственный логический том <span style="font-style: italic;">system</span>, это системный раздел,
примонтированный как корневая файловая система. Во второй группе есть
единственный логический раздел <span style="font-style: italic;">data</span>, это раздел данных виртуальной
машины.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;">
<a name="p15">Добавленное с помощью команды VBoxManage простраство появляется как
свободное пространство в конце соответствующей группы томов: либо
<span style="font-style: italic;">system</span>, либо <span style="font-style: italic;">data</span>. С помощью утилиты "<span style="font-weight: bold;">Управление логическими
томами</span>"&nbsp; нужно добавить это свободное пространство к логическому
тому. <br />
</a></div>

<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">В качестве примера опишем от начала
до конца процедуру увеличения системного раздела (system) виртуальной
машины контроллера домена до 15 Гигабайт.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;">
<a name="p15">1. Выключаем виртуальную машину Controller<br />
</a></div>

<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">2. Удаленно подключаемся к командной строке сервера по SSH<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">3. Увеличиваем виртуальный размер образа системного диска:<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><span style="font-weight: bold; font-style: italic;"><a name="p15">VBoxManage modifyhd /data/VirtualBox/Controller/Controller.vdi --resize 15360</a></span><a name="p15"><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">4. Подключаемся к консоли виртуальной машины контроллера и запускаем графический рабочий стол с помощью команды<br />
</a></div>
<a name="p15"><br />
<span style="font-weight: bold; font-style: italic;">startx</span><br />
<br />
</a><div style="text-align: justify;"><a name="p15">5. Запускаем утилиту "<span style="font-weight: bold;">Управление
логическими томами</span>" из главного меню (<span style="font-weight: bold;">Приложения --&gt; Системные
--&gt; Управление логическими томами</span>)<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">6. Заходим в группу томов <span style="font-style: italic;">system</span>, затем разворачиваем ее логический вид и выделяем логический том <span style="font-style: italic;">system</span><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: center;"><a name="p15"><img src="img/vbox_resize_hd.png" alt="vbox_resize_hd.png" /><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">7. Нажимаем кнопку "<span style="font-weight: bold;">Изменить свойства</span>" внизу экрана<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: center;"><a name="p15"><img src="img/vboxextendsize.png" alt="vboxextendsize.png" /><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">8. В окне в поле "<span style="font-weight: bold;">Размер LV</span>" вводим новый размер 15 Гб или нажимаем кнопку "<span style="font-weight: bold;">Использовать оставшееся</span>"<br />
<br />
9. Нажимаем <span style="font-weight: bold;">OK</span><br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Все! Система видит 15 Гб.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">Если вы хотите уменьшить раздел,
имейте в виду, что для уменьшения файловой системы утилита сначала
должна отмонтировать ее. В случае с системным разделом, этого сразу сделать
не получится, потому что система активна. Чтобы уменьшить системный
раздел, система должна быть не активна. Поэтому нужно загрузить
виртуальную машину с диска аварийного восстановления (или с его
ISO-образа rescue-virtual.iso, который находится в папке
/data/VirtualBox/) и запустить утилиту управления логическими томами
с него.<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><a name="p15">После уменьшения раздела внутри виртуальной машины, запустите на сервере команду сжатия для файла образа этого раздела:<br />
</a></div>
<a name="p15"><br />
</a><div style="text-align: justify;"><span style="font-style: italic;"><a name="p15">VBoxManage modifyhd &lt;путь-к-файлу-образа&gt; --compact</a></span><a name="p15"><br />
</a></div>

<div style="text-align: justify;">
<h5><a name="p16">
Удаление виртуальных носителей</a></h5>

</div>


<div style="text-align: justify;"><a name="p16">Для удаление носителей, прикрепленных
к контроллерам, нужно выбрать нужный диск в списке и нажать вторую
кнопку слева (<span style="font-weight: bold;">Удалить устройство</span>) из набора кнопок под этим списком.
Эта команда также доступна из контекстного меню, если нажать правой
кнопкой мыши на значке этого диска. <br />
</a></div>
<a name="p16"><br />
</a><div style="text-align: justify;"><a name="p16">При выполнении этой команды, дисковое
устройство отсоединяется от виртуальной машины, но его файл физически
не удаляется с диска. Чтобы удалить файл образа, нужно воспользоваться
"<span style="font-weight: bold;">Менеджером виртуальных носителей</span>", который можно открыть, выполнив
команду <span style="font-weight: bold;">"Файл" --&gt; "Менеджер виртуальных носителей"</span> из меню. В
менеджере виртуальных носителей показаны все виртуальные диски, которые
были созданы с помощью VirtualBox, а также, на отдельных закладках все
образы оптических дисков и дискет, независимо от того, используются ли
они виртуальными машинами или нет. С помощью менеджера можно создавать
копии этих образов (кнопка "<span style="font-weight: bold;">Копировать</span>"), отключать их от всех
виртуальных машин (кнопка "<span style="font-weight: bold;">Отключить</span>") и удалять (кнопка "<span style="font-weight: bold;">Удалить</span>").<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p17">Раздел "Аудио"</a></h4>

</div>

<div style="text-align: justify;"><a name="p17">Управляет параметрами звуковой
подсистемы виртуальной машины. В сервере нет звуковой подсистемы (а у вас именно сервер, а не машина, настроенная как сервер),
поэтому и в виртуальных машинах аудио отключено.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p18">Раздел "Сеть"</a></h4>

</div>

<div style="text-align: justify;"><a name="p18">Для виртуальной машины можно создать от одного до четырех виртуальных сетевых адаптера. <br />
</a></div>
<a name="p18"><br />
</a><div style="text-align: center;"><a name="p18"><img style="width: 680px; height: 271px;" src="img/vboxnetcards.png" alt="vboxnetcards.png" /></a></div>
<a name="p18"><br />
</a><ul>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">Тип подключения </a></span><a name="p18">- механизм, используемый системой хоста для
"проброса" физического сетевого интерфейса в виртуальную машину. Для
того чтобы виртуальная машина была полноправным хостом в локальной сети
и воспринималась всеми окружающими хостами как независимая сетевая
рабочая станция, выбирайте "<span style="font-weight: bold;">Сетевой мост</span>"</a></li>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">Имя</a></span><a name="p18"> - имя сетевого интерфейса сервера, который используется для
передачи трафика виртуальной машины. Если в сервере несколько сетевых
интерфейсов, вы можете разделить их между виртуальными машинами,
физически отделив трафик одной виртуальной машины от другой. Однако это
не является обязательным условием, допустимо указывать один сетевой
интерфейс для всех виртуальных машин.</a></li>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">Тип адаптера</a></span><a name="p18"> - тип сетевого адаптера. Многими источниками было
подтверждено, что лучше всего в виртуальных машинах на базе VirtualBox
работает адаптер "<span style="font-weight: bold;">Паравиртуальная сеть (virtio-net)</span>".</a></li>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">MAC-адрес </a></span><a name="p18">- MAC-адрес, устанавливаемый сетевому адаптеру</a></li>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">Неразборчивый
режим</a></span><a name="p18"> - если сетевой адаптер работает в
неразборчивом режиме, он перехватывает все пакеты, проходящие через
него, независимо от того, идут ли они по его адресу. Это может быть
полезно для создания снифферов всети, но в данном случае просто создает
ненужную нагрузку на интерфейсе. Поэтому установите этот параметр в
значение "<span style="font-weight: bold;">Запретить</span>" </a></li>
<a name="p18">  </a><li><span style="font-weight: bold;"><a name="p18">Кабель подключен</a></span><a name="p18"> - название говорит само за себя.</a></li>
</ul>
<div style="text-align: justify;"><a name="p18">В зависимости от задач, вы можете
создать до четырех адаптеров, которые внутри виртуальной машины будут
именоваться как eth0, eth1, eth2 и eth3. Следите за MAC-адресами. Они
не должны дублироваться.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p19">Раздел "COM-порты"</a></h4>

</div>

<div style="text-align: justify;"><a name="p19">Позволяет создать для виртуальной
машины два COM-порта на базе COM-портов сервера или файлов. Подробнее
читайте в руководсте пользователя VirtualBox.<br />
</a></div>

<div style="text-align: justify;">
<h4><a name="p20">Раздел "USB"</a></h4>

</div>

<div style="text-align: justify;"><a name="p20">С помощью этого раздела можно предоставить в виртуальную машину USB-устройства, подключенные к серверу.<br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: center;"><a name="p20"><img src="img/vboxusbprops.png" alt="vboxusbprops.png" /><br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: justify;">
<a name="p20">Нужно подключить USB-устройство к серверу, нажать кнопку "<span style="font-weight: bold;">Добавить из устройств</span>" и выбрать это устройство из меню.<br />
</a></div>

<a name="p20"><br />
</a><div style="text-align: center;"><a name="p20"><img src="img/vboxusbattach.png" alt="vboxusbattach.png" /><br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: justify;"><a name="p20">После того как устройство добавлено в список, оно автоматически будет передаваться в виртуальную машину при ее включении.<br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: justify;"><a name="p20">Это одна из немногих функций, которую
можно выполнять и при включенной виртуальной машине. В этом случае
устройство будет доступно в виртуальной машине сразу же после
подключения.<br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: justify;"><a name="p20">Вы также можете в любой момент изъять
устройство из виртуальной машины, выключив флажок этого устройства в
списке или нажав значок "<span style="font-weight: bold;">Удалить фильтр</span>" (четвертый сверху).<br />
</a></div>
<a name="p20"><br />
</a><div style="text-align: justify;"><a name="p20">Добавив устройство в список один раз,
оно сохранится в нем навсегда, пока вы его не удалите. VirtualBox будет
постоянно подключать это устройство к данной виртуальной машине, как
только будет обнаруживать его в системе сервера.<br />
</a></div>

<div style="text-align: justify;">
<h2><a name="p21">Добавление новой виртуальной машины на сервер</a></h2>

</div>

<div style="text-align: justify;"><a name="p21">Добавить виртуальную машину на сервер можно тремя способами: <br />
</a></div>
<a name="p21"><br />
</a><div style="text-align: justify;"><a name="p21">1. Можно создать виртуальную машину с
нуля, с новыми образами виртуальных дисков и установить на нее
операционную систему из ISO-образа CD-диска с дистрибутовом,
подсоединенного к виртуальному оптическому приводу.<br />
</a></div>
<a name="p21"><br />
</a><div style="text-align: justify;"><a name="p21">2. Можно создать виртуальную машину
на базе уже существующей на сервере машины путем копирования. Эта
операция позволяет клонировать виртуальную машину, включая ее диски.<br />
</a></div>
<a name="p21"><br />
</a><div style="text-align: justify;"><a name="p21">3. Можно перенести виртуальную машину
с другого сервера либо с помощью операций импорт/экспорт виртуальной
машины, которые находятся в меню "<span style="font-weight: bold;">Файл</span>". либо вручную скопировать
образы дисков машины на сервер, создать новую виртуальную машину и
подключить к ней эти диски.<br />
</a></div>

<div style="text-align: justify;">
<h3><a name="p22">Создание виртуальной машины с нуля</a></h3>

</div>

<div style="text-align: justify;"><a name="p22">Если подходить к этому комплексно, то процесс запуска новой виртуальной машины состоит из трех шагов:<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">1. Создание заготовки виртуальной машины с помощью мастера<br />
</a></div>
<div style="text-align: justify;"><a name="p22">2. Установка параметров виртуальной машины<br />
</a></div>
<div style="text-align: justify;"><a name="p22">3. Установка операционной системы из ISO-образа компакт-диска<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">Первый шаг заключатеся в запуске и
прохождении мастера создания новой машины, который появляется при
нажатии на кнопку "<span style="font-weight: bold;">Создать</span>" - самой первой кнопки на панели
инструментов. Также можно создать виртуальную машину, выполнив команду
<span style="font-weight: bold;">"Файл --&gt; Создать"</span> из меню. <br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: center;">
<div style="text-align: left;"><a name="p22">Появится приветственное окно мастера создания виртуальной машины.<br />
</a></div>
<a name="p22"><br />
<img src="img/newvmmaster.png" alt="newvmmaster.png" /><br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">В следующем окне мастера указывается имя виртуальной машины и тип операционной системы, которую планируется в нее устанавливать.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: center;"><a name="p22"><img src="img/newvmmaster2.png" alt="newvmmaster2.png" /><br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">В следующем окне указывается количество оперативной памяти, которая будет выделена для виртуальной машины.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: center;"><a name="p22"><img src="img/newvmmaster3.png" alt="newvmmaster3.png" /><br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">В следующем окне предлагается присоединить основной жесткий диск к виртуальной машине.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: center;"><a name="p22"><img src="img/newvmmaster4.png" alt="newvmmaster4.png" /><br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">Если вы не определились с тем, какой
жесткий диск должен быть в этой виртуальной машине, можно выключить
флажок "<span style="font-weight: bold;">Загрузочный диск</span>" и нажать "<span style="font-weight: bold;">Далее</span>". Это позволяет пропустить
этот шаг и создать виртуальную машину без дисков. Можно будет позже
открыть окно свойств виртуальной машины и присоединить новый или
существующий образ жесткого диска к виртуальной машине.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;">В ином случае вы можете либо создать
новый образ виртуального жесткого диска, либо выбрать уже существующий.
Если вы выбрали создание нового диска и нажали "<span style="font-weight: bold;">Далее</span>", запустится
мастер создания нового виртуального диска. С помощью этого мастера вы
указываете тип жесткого диска, его размер и расположение. Этот новый
жесткий диск присоединяется к SATA-контроллеру виртуальной машины в
качестве первого устройства. Работа с мастером создания нового жесткого
диска уже ранее рассматривалась в теме "<a onclick='parent.obj.go_to("5.3.2.4.2",true,event)' href="null">Добавление жестких дисков</a>", при
рассмотрении параметров виртуальной машины.<br />

</div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">Вы также можете создать виртуальную
машину на базе уже существующего диска с установленной операционной
системой, включив переключатель "<span style="font-weight: bold;">Использовать существующий жесткий
диск</span>" и указав путь к его образу в поле ввода. Таким способом можно
делать своеобразное избирательное клонирование виртуальных машин.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">После нажатия на кнопку "<span style="font-weight: bold;">Далее</span>"
появится завершающее окно мастера, в котором вам предлагается
подтвердить все введенные в прошлых окнах данные.<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: center;"><a name="p22"><img src="img/newvmmaster5.png" alt="newvmmaster5.png" /><br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;"><a name="p22">После нажатия на кнопку "<span style="font-weight: bold;">Create</span>"
виртуальная машина будет создана и появится в списке виртуальных машин.
Результатом работы мастера является папка виртуальной машины в каталоге
/data/VirtualBox, в которой находится файл описания виртуальной машины
с расширением .vbox и образ жесткого диска (если вы не отказались от
этого этапа).<br />
</a></div>
<a name="p22"><br />
</a><div style="text-align: justify;">Формально считается что мы только что
"создали новую виртуальную машину". Но на самом деле это лишь первый
шаг ее создания. Указанных с помощью мастера параметров не достаточно
для запуска виртуальной машины. Мы еще ничего не указали о процессоре,
мы не указали никаких настроек сети и экрана виртуальной машины.
Поэтому следующим шагом создания новой виртуальной машины
является работа с окном свойств виртуальной машины. Мы рассматривали
работу с этим окном ранее в разделе "<a onclick='parent.obj.go_to("5.3.2",true,event)' href="null">Свойства виртуальной машины</a>".
Откройте его и настройте все что нужно, особенно на вкладках "<span style="font-weight: bold;">Дисплей</span>",
"<span style="font-weight: bold;">Сеть</span>" и "<span style="font-weight: bold;">Носители</span>". Также, на закладке "<span style="font-weight: bold;">Носители</span>" нужно подготовиться
к следующему, завершающему этапу создания виртуальной машины -
установке операционной системы. Для этого нужно подключить к
виртуальной машине виртуальный оптический привод и присоединить к нему
ISO-образ CD-диска с установочным дистрибутивом операционной системы.
Этот образ нужно предварительно записать на сервер. Для создания новых
серверов вы можете использовать операционную систему Debian 6 Squeeze.
Для нее на сервере уже есть ISO-образ, он называется
"debian-6.0.3-amd64-CD-1.iso" и находится на серере в каталоге
/data/VirtualBox.<br />

</div>
<a name="p22"><br />
</a><div style="text-align: justify;">Только после того как вы настроили
все параметры и подключили установочный дистрибутив операционной
системы, можно нажать кнопку "<span style="font-weight: bold;">Старт</span>" и подключиться к экрану
виртуальной машины, нажав кнопку "Консоль" справа, над информационной
панелью (см. "<a onclick='parent.obj.go_to("5.2",true,event)' href="null">Подключение к экрану виртуальной машины</a>"). Далее следуйте
указаниям программы установки, которая должна запуститься с
компакт-диска, который вы подключили.<br />

</div>

<div style="text-align: justify;">
<h3><a name="p23">Создание виртуальной машины копированием</a></h3>

</div>

<div style="text-align: justify;"><a name="p23">Вы также можете не создавать
виртуальную машину с нуля, а сделать копию уже существующей и затем
немного ее изменить. Например, нужно обязательно изменить MAC-адреса
сетевых адаптеров (потому что MAC-адреса должны быть уникальны), а
также другие сетевые настройки.<br />
</a></div>
<a name="p23"><br />
</a><div style="text-align: justify;"><a name="p23">Чтобы создать копию виртуальной
машины, нужно нажать правой кнопкой мыши по ее значку в списке и
выполнить команду "<span style="font-weight: bold;">Копировать</span>" из контекстного меню. Эта команда
доступна только для остановленных виртуальных машин.<br />
</a></div>
<a name="p23"><br />
</a><div style="text-align: center;"><a name="p23"><img src="img/copyvmmenu.png" alt="copyvmmenu.png" /><br />
</a></div>
<a name="p23"><br />
</a><div style="text-align: justify;"><a name="p23">Далее вам нужно пройти мастер,
состоящий из двух шагов. Этот мастер по умолчанию создает идентичную
копию машины. Но если вы планируете использовать исходную машину и ее
копию одновременно, этот вариант не совсем подойдет. Поэтому, на первом
шаге предлагается ввести имя новой виртуальной машины и включить флажок
"<span style="font-weight: bold;" class="">Сгенерировать новые MAC адреса для всех сетевых адаптеров</span>", чтобы они не конфликтовали с MAC-адресами оригинала.<br />
</a></div>
<a name="p23"><br />
</a><div style="text-align: justify;"><a name="p23">На втором экране будет предложено
выбрать, каким образом копировать диски виртуальной машины оригинала.
Вариант "<span style="font-weight: bold;">Полная копия</span>" просто копирует полностью диски оригинала в
папку новой виртуальной машины. Это позволяет получить полностью
независимую копию. При выборе варианта "<span style="font-weight: bold;">Связная копия</span>", новая машина
использует снимки дисков оригинала. Это позволяет сэкономить дисковое
пространство, но копия будет зависеть от оригинала.<br />
</a></div>

<div style="text-align: justify;">
<h3><a name="p24">Перенос виртуальных машин между хостами<br />
</a></h3>

</div>

<div style="text-align: justify;"><a name="p24">Вы можете принести виртуальную машину
с другого хоста и разместить ее на сервере или переместить виртуальную
машину с вашего сервера на другой хост. Для этого существует несколько
способов. <br />
</a></div>
<a name="p24"><br />
</a><div style="text-align: justify;"><a name="p24">VirtualBox предлагает механизм
импорта/экспорта виртуальных машин, который реализуется с помощью
команд меню <span style="font-weight: bold;">"Файл--&gt;Импорт конфигурации"</span> и <span style="font-weight: bold;">"Файл--&gt;Экспорт
конфигурации"</span>. <br />
<br />
</a><div style="text-align: center;"><a name="p24"><img src="img/exportvm.png" alt="exportvm.png" /><br />
</a></div>
<a name="p24"><br />
Это довольно удобно. Машина сначала выгружается в универсальном формате
OVF (Open Virtual Format) в файл с помощью команды <span style="font-weight: bold;">"Файл--&gt;Экспорт
конфигурации"</span>, затем копируется на хост назначения и загружается с
помощью комадны <span style="font-weight: bold;">"Файл--&gt;Импорт конфигурации"</span>. При экспорте доступно
два варианта файлов: .ovf и .ova. При выгрузке в формате .ovf
образуется несколько файлов: файл описания виртуальной машины .ovf +
файлы образов всех дисков в формате VMDK. При экспорте во втором
формате образуется один файл в формате .ova, содержащий в себе всё. Эти
форматы являются универсальными, что позволяет обмениваться
виртуальными машинами, работающими в разных средах виртуализации.
Например, можно экспортировать виртуальную машину из VirtualBox и
загрузить ее в VMWare и наоборот. В этом заключается основное
преимущество этой стандартной процедуры.<br />
</a></div>
<a name="p24"><br />
</a><div style="text-align: justify;"><a name="p24">У импорта/экспорта есть один
недостаток, который может быть очень важным при принятии решения.
VirtualBox экспортирует образы виртуальных дисков в формате .vmdk, и
импортирует тоже в этом формате. Формат .vmdk это формат виртуальных
дисков VMWare, который считается стандартом для виртуальных машин, он
совместим с любой средой виртуализации. Однако VirtualBox не умеет
увеличивать размер такого образа (команда <span style="font-style: italic;">VboxManage modifyhd --resize</span>
не работает для таких файлов). Поэтому вам придется либо с этим
смириться, либо вручную конвертировать эти файлы в формат .vdi с
помощью команды <span style="font-weight: bold;">VBoxManage clonehd</span>.<br />
</a></div>
<a name="p24"><br />
</a><div style="text-align: justify;">Если вам нужно обмениваться
виртуальными машинами, которые должны работать только в VirtualBox,
лучше просто копировать образы дисков в формате VDI на хост назначения
и потом подключать их либо к существующим виртуальным машинам, либо
создавать новые виртуальные машины и подключать эти файлы образов к
ним. Можно это делать прямо в мастере создания новой виртуальной машины
(см. "<a onclick='parent.obj.go_to("5.4.1",true,event)' href="null">Создание виртуальной машины с нуля</a>"), на этапе выбора жесткого
диска.<br />

<br />

Метод копирования файлов образов вручную работает быстрее, чем импорт/экспорт.<br />

</div>

<div style="text-align: justify;">
<h2><a name="p25">Удаление виртуальных машин</a></h2>

</div>

<div style="text-align: justify;"><a name="p25">Для того чтобы удалить виртуальную
машину, нужно сначала остановить ее, затем нажать правой кнопкой мыши
на ее значке и выполнить команду "<span style="font-weight: bold;">Убрать</span>" из контекстного меню.<br />
</a></div>
<a name="p25"><br />
</a><div style="text-align: center;"><a name="p25"><img src="img/deletevmmenu.png" alt="deletevmmenu.png" /><br />
</a></div>
<a name="p25"><br />
</a><div style="text-align: justify;"><a name="p25">Появится окно с варинатами удаления:<br />
</a></div>
<a name="p25"><br />
</a><div style="text-align: center;"><a name="p25"><img src="img/deletevmconfirmation.png" alt="deletevmconfirmation.png" /><br />
</a></div>
<a name="p25"><br />
</a><div style="text-align: justify;"><a name="p25">На данном этапе у вас еще есть шанс
отказаться от своего намерения, нажав кнопку "<span style="font-weight: bold;">Отмена</span>". Вы также можете
не удалять машину целиком, а просто убрать ее из списка, нажав на
кнопку "<span style="font-weight: bold;">Убрать из списка</span>". Но если вы полностью уверены в своем
решении, нажимайте "<span style="font-weight: bold;">Удалить все файлы</span>" Эта команда уберет виртуальную
машину из списка и удалит ее каталог из <span style="font-style: italic;">/data/VirtualBox</span> вместе со
всеми виртуальными носителями, удалив их предварительно из менеджера
виртуальных носитетей (который доступен по команде меню
"<span style="font-weight: bold;">Файл--&gt;Менеджер виртуальных носителей</span>").<br />
</a></div>
<a name="p25"><br />
<br />
<br />
<br />


</a></body></html>
